<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AntaleVPN - IP API</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0f;
            color: #fff;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        pre {
            background: #1a1a25;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3a86ff;
        }
        .endpoint {
            color: #3a86ff;
            font-weight: bold;
            margin-top: 30px;
            display: block;
            font-family: 'Courier New', monospace;
        }
        .api-response {
            margin-top: 20px;
            padding: 15px;
            background: #1a1a25;
            border-radius: 5px;
            border: 1px solid #3a86ff;
        }
        .test-links {
            margin: 20px 0;
        }
        .test-links a {
            color: #3a86ff;
            text-decoration: none;
            margin-right: 15px;
            font-family: 'Courier New', monospace;
        }
        .test-links a:hover {
            text-decoration: underline;
        }
        h1 {
            color: #3a86ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AntaleVPN IP API</h1>
        <p>Доступные эндпоинты:</p>
        
        <div class="test-links">
            <a href="/?format=api-list" target="_blank">/?format=api-list</a>
            <a href="/?format=api-json" target="_blank">/?format=api-json</a>
        </div>
        
        <span class="endpoint">GET /?format=api-list</span>
        <pre>188.146.24.33
95.111.206.247
200.234.224.147</pre>
        
        <span class="endpoint">GET /?format=api-json</span>
        <pre>{
  "ips": [
    "188.146.24.33",
    "95.111.206.247",
    "200.234.224.147"
  ]
}</pre>
        
        <div class="api-response" id="apiResponse" style="display: none;">
            <h3>API Response:</h3>
            <pre id="responseContent"></pre>
        </div>
    </div>

    <script>
        // Все IP в одной строке
        const ipString = "188.146.24.33,95.111.206.247,200.234.224.147";
        
        // Разделяем по запятой
        const ipArray = ipString.split(',');
        
        // Проверяем параметры URL для API
        const urlParams = new URLSearchParams(window.location.search);
        const format = urlParams.get('format');
        
        if (format === 'api-list') {
            // Выводим чистый текст с IP-адресами
            document.body.innerHTML = ipArray.join('\n');
            document.contentType = 'text/plain';
        }
        else if (format === 'api-json') {
            // Выводим JSON
            document.body.innerHTML = JSON.stringify({ ips: ipArray });
            document.contentType = 'application/json';
        }
        else {
            // Показываем тестовые ответы на главной странице
            document.getElementById('apiResponse').style.display = 'block';
            document.getElementById('responseContent').textContent = 
                format ? `Unknown format: ${format}` : 'No format specified';
        }
    </script>
</body>
</html>
